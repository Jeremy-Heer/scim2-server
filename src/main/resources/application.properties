spring.application.name=${SPRING_APPLICATION_NAME:scim2-server}

# Server Configuration
server.port=${SERVER_PORT:9080}
server.servlet.context-path=${SERVER_CONTEXT_PATH:/}

# SSL Configuration
server.ssl.enabled=${SSL_ENABLED:true}
server.ssl.key-store=${SSL_KEYSTORE_PATH:certs/keystore.pfx}
server.ssl.key-store-type=${SSL_KEYSTORE_TYPE:PKCS12}
server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD:changeit}

# Swagger UI Configuration
springdoc.api-docs.path=${SPRINGDOC_API_DOCS_PATH:/v3/api-docs}
springdoc.swagger-ui.path=${SPRINGDOC_SWAGGER_UI_PATH:/swagger-ui.html}
springdoc.swagger-ui.enabled=${SPRINGDOC_SWAGGER_UI_ENABLED:true}

# SCIM Configuration
scim.data.directory=${SCIM_DATA_DIRECTORY:data}
scim.auth.token=${SCIM_AUTH_TOKEN:scim-token-123}

# SCIM Backend Configuration
# Options: json (default), ldap
scim.backend.type=${SCIM_BACKEND_TYPE:ldap}

# LDAP Backend Configuration
ldap.enabled=${LDAP_ENABLED:true}
ldap.url=${LDAP_URL:ldap://localhost:8389}
ldap.bind-dn=${LDAP_BIND_DN:cn=Directory Manager}
ldap.bind-password=${LDAP_BIND_PASSWORD:Engpwd12345678}
ldap.base-dn=${LDAP_BASE_DN:dc=quinn,dc=net}
ldap.user-base-dn=${LDAP_USER_BASE_DN:ou=Users,dc=quinn,dc=net}
ldap.group-base-dn=${LDAP_GROUP_BASE_DN:ou=Groups,dc=quinn,dc=net}

# LDAP Connection Pool Settings
ldap.pool.initial-connections=${LDAP_POOL_INITIAL_CONNECTIONS:2}
ldap.pool.max-connections=${LDAP_POOL_MAX_CONNECTIONS:10}
ldap.pool.max-connection-age-millis=${LDAP_POOL_MAX_CONNECTION_AGE_MILLIS:3600000}
ldap.pool.health-check-interval-millis=${LDAP_POOL_HEALTH_CHECK_INTERVAL_MILLIS:60000}

# LDAP Search Settings
ldap.search.size-limit=${LDAP_SEARCH_SIZE_LIMIT:1000}
ldap.search.time-limit-seconds=${LDAP_SEARCH_TIME_LIMIT_SECONDS:30}
ldap.use-entry-uuid-dn=${LDAP_USE_ENTRY_UUID_DN:true}

# Logging
logging.level.com.scim2.server=${LOG_LEVEL_SCIM2:DEBUG}
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:DEBUG}
logging.level.org.springdoc=${LOG_LEVEL_SPRINGDOC:DEBUG}
logging.level.org.springframework.web=${LOG_LEVEL_WEB:DEBUG}
logging.level.org.apache.coyote.http11=${LOG_LEVEL_COYOTE:DEBUG}

# HTTP Request/Response Logging
logging.level.com.scim2.server.scim2_server.config.HttpLoggingInterceptor=${LOG_LEVEL_HTTP_INTERCEPTOR:INFO}
logging.level.com.scim2.server.scim2_server.config.HttpLoggingFilter=${LOG_LEVEL_HTTP_FILTER:INFO}
server.servlet.encoding.charset=${SERVER_ENCODING_CHARSET:UTF-8}
server.servlet.encoding.enabled=${SERVER_ENCODING_ENABLED:true}
server.servlet.encoding.force=${SERVER_ENCODING_FORCE:true}

# Prevent log truncation for large payloads
logging.pattern.console=${LOG_PATTERN_CONSOLE:%d{yyyy-MM-dd HH:mm:ss} - %msg%n}
logging.pattern.file=${LOG_PATTERN_FILE:%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n}
